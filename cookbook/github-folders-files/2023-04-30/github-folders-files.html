<!doctype html>
<html lang=en >
<head>
<title></title>
<meta charset=utf-8 />
</head>
<body style="font: 100% monospace;" >

	<div id="divFolders"> </div>
<script>

// get list of all the folder names in a GitHub repository

// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 		}

// 	}

// 	divFolders.innerHTML = txt;

// } );


// get list of all the folder and sub-folder names in a GitHub repository


// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 			fetch( url + item.name )

// 			.then( response => response.json() )

// 			.then( json => {

// 				for ( let item of json ) {

// 					if ( item.type === "dir" ) {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 					}

// 				}

// 				divFolders.innerHTML = txt;

// 			} );

// 		}

// 	}

// } );

// get list of all the folder and sub-folder names in a GitHub repository and display in a tree

// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 			fetch( url + item.name )

// 			.then( response => response.json() )

// 			.then( json => {

// 				for ( let item of json ) {

// 					if ( item.type === "dir" ) {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 					}

// 				}

// 				divFolders.innerHTML = txt;

// 			} );

// 		}

// 	}

// } );

// get list of all the folder and sub-folder names and files in a GitHub repository and display in a tree

// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 			fetch( url + item.name )

// 			.then( response => response.json() )

// 			.then( json => {

// 				for ( let item of json ) {

// 					if ( item.type === "dir" ) {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 					} else {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 					}

// 				}

// 				divFolders.innerHTML = txt;

// 			} );

// 		}

// 	}

// } );


// get list of all the folder and sub-folder names and files in a GitHub repository and display in a tree with indent

// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 			fetch( url + item.name )

// 			.then( response => response.json() )

// 			.then( json => {

// 				for ( let item of json ) {

// 					if ( item.type === "dir" ) {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 						fetch( url + item.name )

// 						.then( response => response.json() )

// 						.then( json => {

// 							for ( let item of json ) {

// 								if ( item.type === "dir" ) {

// 									txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 								} else {

// 									txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 								}

// 							}

// 							divFolders.innerHTML = txt;

// 						} );

// 					} else {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 					}

// 				}

// 				divFolders.innerHTML = txt;

// 			} );

// 		}

// 	}

// } );


// display all the files in a github repo in a directory tree

// const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

// const accessToken = localStorage.getItem( "githubAccessToken" ) || "";

// fetch( url )

// .then( response => response.json() )

// .then( json => {

// 	let txt = "";

// 	for ( let item of json ) {

// 		if ( item.type === "dir" ) {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 			fetch( url + item.name )

// 			.then( response => response.json() )

// 			.then( json => {

// 				for ( let item of json ) {

// 					if ( item.type === "dir" ) {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 						fetch( url + item.name )

// 						.then( response => response.json() )

// 						.then( json => {

// 							for ( let item of json ) {

// 								if ( item.type === "dir" ) {

// 									txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 									fetch( url + item.name )

// 									.then( response => response.json() )

// 									.then( json => {

// 										for ( let item of json ) {

// 											if ( item.type === "dir" ) {

// 												txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

// 											} else {

// 												txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 											}

// 										}

// 										divFolders.innerHTML = txt;

// 									} );

// 								} else {

// 									txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 								}

// 							}

// 							divFolders.innerHTML = txt;

// 						} );

// 					} else {

// 						txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 					}

// 				}

// 				divFolders.innerHTML = txt;

// 			} );

// 		} else {

// 			txt += `<a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

// 		}

// 	}

// 	divFolders.innerHTML = txt;

// } );

const url = "https://api.github.com/repos/pushme-pullyou/2023/contents/";

const accessToken = localStorage.getItem( "githubAccessToken" ) || "";




// using a personal access token, display all the files in a github repo in a directory tree



fetch( url, { headers: { Authorization: "token " + accessToken } } )

 .then( response => response.json() )

 .then( json => {

	let txt = "";

	for ( let item of json ) {

		if ( item.type === "dir" ) {

			txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

			fetch( url + item.name, { headers: { Authorization: "token " + accessToken } } )

			.then( response => response.json() )

			.then( json => {

				for ( let item of json ) {

					if ( item.type === "dir" ) {

						txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

						fetch( url + item.name, { headers: { Authorization: "token " + accessToken } } )

						.then( response => response.json() )

						.then( json => {

							for ( let item of json ) {

								if ( item.type === "dir" ) {

									txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

									fetch( url + item.name, { headers: { Authorization: "token " + accessToken } } )

									.then( response => response.json() )

									.then( json => {

										for ( let item of json ) {

											if ( item.type === "dir" ) {

												txt += `<a href="${ url }${ item.name }" title="Click to view folder contents" >${ item.name }</a><br>`;

											} else {

												txt += `&dot; <a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

											}

										}

										divFolders.innerHTML = txt;

									} );

								} else {

									txt += `&dot; <a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

								}

							}

							divFolders.innerHTML = txt;

						} );

					} else {

						txt += `&dot; <a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

					}

				}

				divFolders.innerHTML = txt;

			} );

		} else {

			txt += `&dot; <a href="${ url }${ item.name }" title="Click to view file contents" >${ item.name }</a><br>`;

		}

	}

	divFolders.innerHTML = txt;

} );











</script>
</body>
</html>